/* ===================== Vars ===================== */
:root{
  --bg:#f3f4f6;
  --card:#ffffff;
  --ring:#e5e7eb;

  /* sidebar */
  --side-w: 240px;
  --brand: #665eff;
  --ink: #23224a;
  --muted: #a49ee3;
  --border: #ecebfc;
}

/* ===================== Shell Layout ===================== */
.td-shell{
  min-height:100vh;
  background:var(--bg);
  display:grid;
  grid-template-columns: var(--side-w) 1fr; /* sidebar + main */
}

/* ===================== Sidebar ===================== */
.side-nav {
  width: var(--side-w);
  height: 100dvh;
  background: #fff;
  color: var(--ink);
  display: flex;
  flex-direction: column;
  box-shadow: 2px 0 12px #8f8be911;
  border-right: 1.5px solid var(--border);
  padding: 0 0 max(16px, env(safe-area-inset-bottom)) 0;
  position: sticky;
  top: 0;
}
.side-header {
  display: flex; flex-direction: column; align-items: center;
  padding: 1.6rem 0 1rem 0; user-select: none; cursor: pointer;
}
.side-logo-bg {
  background: linear-gradient(160deg, #6a5cff 60%, #b07fff 100%);
  border-radius: 12px; display: grid; place-items: center;
  width: 44px; height: 44px; margin-bottom: .35em;
  box-shadow: 0 6px 18px #6a5cff22;
}
.side-logo { color: #fff; font-size: 1.5rem; }
.side-appname { font-size: 1.05rem; font-weight: 800; color: #4f46e5; margin-top: .15em; letter-spacing: -.2px; }
.side-portal { font-size: .88rem; color: #b8b3e9; margin-top: .1rem; }

.side-menu {
  display: flex; flex-direction: column; margin-top: 1.1rem; gap: .22rem;
  flex: 1 1 auto; overflow-y: auto; padding-right: .2rem;
}
.side-link {
  position: relative; display: flex; align-items: center; gap: 1.1em;
  font-size: 1.03rem; color: #655f91; padding: .78em 1.2em .78em 1.4em;
  text-decoration: none; border-radius: 14px; margin: .12rem .9rem;
  font-weight: 600; transition: background .18s, color .16s, transform .18s, box-shadow .18s;
}
.side-link:hover { background: #f5f3ff; color: #594fe3; transform: translateX(3px); box-shadow: 0 6px 14px rgba(89,79,227,.08); }
.side-link.active { background: #f8f7ff; color: #3b3792; box-shadow: 0 10px 20px rgba(102,94,255,.12); border: 1px solid #e1dfff; }
.side-icon { font-size: 1.2em; margin-bottom: -2px; }

.side-bottom { display: flex; flex-direction: column; align-items: flex-start; gap: .8rem; padding-left: 1.6rem;
  margin-top: auto; margin-bottom: 8px; padding-top: .9rem; border-top: 1px solid #f1efff; }
.side-user { display: flex; align-items: center; gap: .7em; }
.side-user-avatar { width: 36px; height: 36px; border-radius: 999px; background: #efeaff; color:#5a4fe0; display:grid; place-items:center; font-weight:700; }
.side-user-name { font-weight: 700; color: #363469; font-size: 1.01em; }
.side-user-role { font-size: .91em; color: var(--muted); }
.side-logout { background: #f7f6ff; color: #5047e5; border: 1px solid #e7e6ff; font-size: .98rem; cursor: pointer;
  border-radius: 10px; padding: .46em .8em; transition: background .15s, box-shadow .15s, transform .15s; }
.side-logout:hover { background: #efedff; box-shadow: 0 6px 16px #6a5cff1a; transform: translateY(-1px); }

/* Collapsed sidebar */
@media (max-width: 900px) {
  .td-shell{ grid-template-columns: 64px 1fr; }
  .side-nav { width: 64px; min-width: 64px; padding: 0 0 max(12px, env(safe-area-inset-bottom)) 0; }
  .side-header { padding: 1rem 0 .3rem 0; }
  .side-appname, .side-portal, .side-user-name, .side-user-role, .side-text { display: none; }
  .side-menu { margin-top: .8rem; }
  .side-link { margin: .12rem .3rem; justify-content: center; padding: .7em .9em; border-radius: 12px; }
}

/* ===================== Main area ===================== */
.td-main{ background:var(--bg); padding:26px 28px 44px 28px; }
.td-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:18px; }
.td-header h1{ font-size:1.8rem; letter-spacing:-.4px; margin:0; color:#0b1020 }
.td-header p{ margin:4px 0 0 0; color:#6b7280 }
.td-theme-toggle{
  border:1px solid var(--ring); background:#fff; border-radius:14px; padding:8px 10px; cursor:pointer;
  box-shadow:0 2px 10px rgba(0,0,0,.05);
}

/* KPIs */
.td-kpis{ display:grid; grid-template-columns:repeat(4,1fr); gap:14px; margin:18px 0 22px 0; }
.td-kpi{ background:var(--card); border:1.5px solid #e9e2ff; border-radius:14px; padding:14px; display:flex; gap:12px; align-items:center; }
.td-kpi-icon{ width:42px; height:42px; border-radius:10px; display:grid; place-items:center; font-size:20px; }
.td-kpi-label{ font-size:.9rem; color:#6b7280 }
.td-kpi-value{ font-size:1.4rem; font-weight:800; color:#0b1020 }

/* Panels */
.td-panels{ display:grid; grid-template-columns: 1.1fr .9fr; gap:18px; }
.td-panel{ background:var(--card); border:1.5px solid #e9e2ff; border-radius:14px; padding:16px; }
.td-panel-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.td-panel-head h2{ margin:0; font-size:1.12rem }
.td-panel-head p{ margin:4px 0 0 0; color:#6b7280; font-size:.92rem }
.td-ghost-btn{ display:inline-flex; align-items:center; gap:6px; border:1px solid var(--ring);
  padding:8px 10px; border-radius:10px; text-decoration:none; color:#111827; background:#fff; }

/* Schedule */
.td-schedule{ list-style:none; margin:8px 0 0 0; padding:0; display:flex; flex-direction:column; gap:10px; }
.td-schedule-row{
  display:grid; grid-template-columns: 56px 1fr 160px 120px 90px; align-items:center;
  gap:10px; border:1px solid #ecebfc; background:#fafaff; border-radius:12px; padding:10px 12px;
}
.td-chip{ width:40px; height:40px; border-radius:50%; display:grid; place-items:center; font-weight:700; }
.td-s-name{ font-weight:700; color:#0b1020 }
.td-s-sub{ display:flex; gap:8px; color:#6b7280; font-size:.92rem; flex-wrap:wrap }
.td-s-mode{ display:flex; align-items:center; gap:8px; color:#374151 }
.td-s-status{ display:flex }
.td-join{ justify-self:end; text-decoration:none; display:inline-flex; gap:8px; align-items:center;
  border:1px solid var(--ring); padding:8px 10px; border-radius:10px; color:#0b1020; background:#fff; }

/* Feedback */
.td-feedback{ list-style:none; margin:8px 0 0 0; padding:0; display:flex; flex-direction:column; gap:12px; }
.td-feedback-card{ border:1px solid #ecebfc; background:#ffffff; border-radius:12px; padding:12px; }
.td-feedback-top{ display:flex; justify-content:space-between; align-items:center; }
.td-time{ color:#6b7280; font-size:.88rem }
.td-quote{ margin:6px 0; color:#111827 }
.td-by{ color:#6b7280; font-size:.9rem }

/* Badges + stars */
.td-badge{ font-size:.78rem; padding:.28rem .55rem; border-radius:999px; border:1px solid; text-transform:capitalize; }
.td-badge--success{ color:#065f46; background:#ecfdf5; border-color:#a7f3d0 }
.td-badge--warning{ color:#92400e; background:#fffbeb; border-color:#fde68a }
.td-stars{ display:flex; gap:2px }
.td-star{ color:#d1d5db }
.td-star--on{ color:#f59e0b }

/* Quick actions */
.td-qa-row{ margin-top:18px; display:grid; grid-template-columns: repeat(4, 1fr); gap:14px; }
.td-qa{ display:flex; align-items:center; gap:10px; justify-content:center; min-height:70px;
  background:#ffffff; border:1px solid var(--ring); border-radius:14px; text-decoration:none; color:#0b1020; }
.td-qa-icon{ font-size:20px }

/* Responsive */
@media (max-width: 1100px){
  .td-panels{ grid-template-columns:1fr }
  .td-kpis{ grid-template-columns:repeat(2,1fr) }
  .td-schedule-row{ grid-template-columns:56px 1fr 1fr 1fr 90px }
  .td-qa-row{ grid-template-columns: repeat(2, 1fr) }
}
